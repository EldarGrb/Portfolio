<!DOCTYPE html>
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="style2.css" />
    <title>Eldar Jahic</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Mulish:ital,wght@0,200..1000;1,200..1000&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<script> window.referralJS = ((window.referralJS !== null && window.referralJS !== undefined) ? window.referralJS : {}); window.referralJS.scriptConfig = { parameters: { src: "//ejmainpage4666b.referralrock.com/ReferralSdk/referral.js", transactionKey: "77f2e51d-cddd-4375-a332-5b6eb91f135f" } }; (function(f,r,n,d,b,y){b=f.createElement(r),y=f.getElementsByTagName(r)[0];b.async=1;b.src=n+"?referrer="+encodeURIComponent(window.location.origin+window.location.pathname).replace(/[!'()*]/g,escape);b.id="RR_DIVID_V5";b.setAttribute("transactionKey",window.referralJS.scriptConfig.parameters.transactionKey);y.parentNode.insertBefore(b,y)})(document,"script",window.referralJS.scriptConfig.parameters.src); </script> 
</head>
  <body>
<section class="form-section">
   <div class="form-div">
    <form id="referralForm">
      <label for="firstName">First Name:</label>
      <input type="text" id="firstName" name="firstName" required><br><br>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required><br><br>
      <label for="amount">Amount:</label>  
      <input type="number" id="amount" name="amount" required><br><br>  

      <button type="submit">Submit</button>
        
    </form>
   </div> 
</section>
<script type="text/javascript">
 window.onload = function() {
  console.log("Window loaded");

  // Create the script element dynamically to ensure it loads before checking
  var script = document.createElement("script");
  script.src = "//ejmainpage4666b.referralrock.com/ReferralSdk/referral.js";
  script.async = true;
  
  script.onload = function() {
    console.log("Referral script loaded");

    var checkInterval = setInterval(function() {
      if (window.referralJS && window.referralJS.conversion) {
        clearInterval(checkInterval);
        console.log("referralJS.conversion is defined");

        document.getElementById("referralForm").addEventListener("submit", function(event) {
          event.preventDefault(); // Prevent default form submission

          // Get form values
          var firstName = document.getElementById("firstName").value;
          var email = document.getElementById("email").value;
          var amount = document.getElementById("amount").value;

          // Check if conversion parameters are available
          if (window.referralJS.conversion.parameters) {
            window.referralJS.conversion.parameters.firstName = firstName;
            window.referralJS.conversion.parameters.email = email;
            window.referralJS.conversion.parameters.amount = amount;

            // Handle form submission and data processing here
            console.log(window.referralJS.conversion.parameters); // For testing purposes
          } else {
            console.error("window.referralJS.conversion.parameters is not defined");
          }
        });
      } else {
        console.error("window.referralJS.conversion is not defined");
      }
    }, 100); // Check every 100ms
  };

  script.onerror = function() {
    console.error("Failed to load referral script");
  };

  document.head.appendChild(script); // Append the script to the head
};
  </script>
  </body>
  </html>